
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nakomkope D/A J.H.S Management System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
      body {
        font-family: 'Inter', sans-serif;
        background-color: #f8fafc;
      }
      .custom-scrollbar::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }
      .custom-scrollbar::-webkit-scrollbar-track {
        background: #f1f1f1;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 4px;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
      }
      @media print {
        .no-print { display: none !important; }
      }
    </style>
  <script type="importmap">
{
  "imports": {
    "react/": "https://esm.sh/react@^19.2.3/",
    "react": "https://esm.sh/react@^19.2.3",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "xlsx": "https://esm.sh/xlsx@^0.18.5",
    "jspdf-autotable": "https://esm.sh/jspdf-autotable@^5.0.2",
    "jspdf": "https://esm.sh/jspdf@^3.0.4"
  }
}
</script>
</head>
  <body>
    <div id="root"></div>

    <!-- Early health banner (shows whether inline JS runs at all) -->
    <div id="app-health" style="position:fixed;left:12px;top:12px;background:#10b981;color:white;padding:6px 10px;border-radius:6px;font-weight:700;z-index:99999;">JS not initialized</div>
    <script>
      // This inline script runs as the page parses. If it changes the banner text, we know JS runs.
      try {
        const h = document.getElementById('app-health');
        if (h) {
          h.textContent = 'Inline JS executed — waiting for app';
          console.log('[health] Inline JS executed');
        }
      } catch (e) { console.error('[health] inline script error', e); }
    </script>

    <!-- Debug overlay: shows global JS errors and unhandled rejections so we can see issues even if React fails to render -->
    <div id="debug-overlay" style="position:fixed;left:12px;bottom:12px;right:12px;max-height:40vh;overflow:auto;z-index:99999;background:rgba(0,0,0,0.8);color:#fff;padding:12px;border-radius:8px;font-family:monospace;font-size:12px;display:none;">
      <div style="font-weight:700;margin-bottom:8px;">Debug Overlay — JS Errors</div>
      <div id="debug-messages"></div>
      <div style="margin-top:8px;color:#f3f4f6;opacity:0.8;">Open the browser console for more details.</div>
      <button id="debug-close" style="position:absolute;right:8px;top:8px;background:#111;color:#fff;border:none;padding:6px;border-radius:4px;cursor:pointer;">Close</button>
    </div>

    <script>
      (function () {
        const overlay = document.getElementById('debug-overlay');
        const messages = document.getElementById('debug-messages');
        const closeBtn = document.getElementById('debug-close');
        function show(msg) {
          if (messages) {
            const el = document.createElement('div');
            el.style.marginBottom = '6px';
            el.textContent = (new Date()).toISOString() + ' — ' + msg;
            messages.appendChild(el);
            overlay.style.display = 'block';
          }
        }
        closeBtn && closeBtn.addEventListener('click', () => { overlay.style.display = 'none'; });
        window.addEventListener('error', (e) => {
          try { show('Error: ' + (e.error && e.error.message ? e.error.message : e.message || e)); } catch (err) { console.error(err); }
          console.error('Global error caught by overlay:', e.error || e.message || e);
        });
        window.addEventListener('unhandledrejection', (e) => {
          try { show('UnhandledRejection: ' + (e.reason && e.reason.message ? e.reason.message : JSON.stringify(e.reason)) ); } catch (err) { console.error(err); }
          console.error('Unhandled rejection caught by overlay:', e.reason || e);
        });
        // Also expose a manual method for app code to surface errors
        window.__showDebug = (m) => { show(m); };
      })();
    </script>

    <!-- Vite entry: load the app module -->
    <script type="module" src="/index.tsx"></script>
  </body>
</html>
